<!doctype html>
<html lang="vi">

<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-M4BRRV8KK8"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-K9CK2BHBDQ'); //Root domain
    gtag('config', 'G-M4BRRV8KK8'); //Subdomain
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Link Rút Gọn | Hoàng Tuân</title>

  <!-- Meta Tags-->
  <meta name="description" content="Link Rút Gọn | Hoàng Tuân">
  <meta name="keywords"
    content="linkrutgon, linkrutgon zxc, zxc linkrutgon, linkrutgonzxc, zxclinkrutgon, link rút gọn, rút gọn link, hoangtuan, hoang tuan, tuandb, zxc io vn">
  <meta name="author" content="tuandb">
  <meta name="theme-color" content="#1e1e1e">

  <meta name="apple-mobile-web-app-title" content="Linkrutgon zxc | Hoàng Tuân">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <meta property="og:url" content="https://l.zxc.io.vn/">
  <meta property="og:title" content="Linkrutgon zxc | Hoàng Tuân">
  <meta property="og:site_name" content="Linkrutgon zxc | Hoàng Tuân">
  <meta property="og:description" content="Link Rút Gọn | Hoàng Tuân">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://l.zxc.io.vn/img/logo.png">

  <meta property="twitter:domain" content="l.zxc.io.vn">
  <meta property="twitter:url" content="https://l.zxc.io.vn/">
  <meta property="twitter:card" content="summary">
  <meta property="twitter:title" content="Linkrutgon zxc | Hoàng Tuân">
  <meta property="twitter:description" content="Link Rút Gọn | Hoàng Tuân">
  <meta property="twitter:image" content="https://l.zxc.io.vn/img/logo.png">

  <link rel="canonical" href="https://l.zxc.io.vn/" />
  <link rel="apple-touch-icon" href="https://l.zxc.io.vn/img/logo.png">
  <!-- Meta Tags END -->

  <link rel="icon" type="image/png" href="img/logo.png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="src/styles.css">

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Linkrutgon zxc | Hoàng Tuân",
    "url": "https://l.zxc.io.vn/",
    "description": "Link Rút Gọn | Hoàng Tuân",
    "image": "https://l.zxc.io.vn/img/logo.png",
    "author": {
      "@type": "Person",
      "name": "tuandb"
    }
  }
  </script>

</head>

<body>

  <div id="loader-container">
    <div class="loader-icon"></div>
  </div>

  <div id="login-container" style="display:none;">
    <div class="login-box">
      <h1><i class="fa fa-lock" style="color:var(--accent-2)"></i>&nbsp; Admin</h1>
      <input id="adminEmail" class="input" placeholder="Email" />
      <input id="adminPass" class="input" type="password" placeholder="Mật khẩu" />
      <button type="submit" class="btn" id="loginBtn">Đăng nhập</button>
      <p id="loginError"></p>
    </div>
  </div>

  <div id="main-container" style="display:none;">
    <div class="wrap">
      <header>
        <div class="logo"><i class="fa fa-link" style="color:#fff"></i></div>
        <div>
          <h1>Link Rút Gọn</h1>
        </div>
      </header>

      <div class="auth-bar">
        <span id="authStatus" class="auth-status"></span>
        <button class="btn ghost" id="logoutBtn">Đăng xuất</button>
      </div>

      <div class="top-row">
        <div class="controls">
          <button class="btn warn" id="showDataBtn"><i class="fa fa-database"></i>&nbsp; Data</button>
          <label class="file-label" for="importFiles"><i class="fa fa-file-import"></i>&nbsp; Nhập</label>
          <input type="file" id="importFiles" accept=".json" multiple style="display:none">
          <button class="btn" id="exportBtn"><i class="fa fa-file-export"></i>&nbsp; Xuất</button>
        </div>
      </div>
      <span id="fileName">&ensp;</span>

      <div class="create-container">
        <div class="create-form">
          <div class="input-group">
            <div class="input-row">
              <i class="fa fa-link form-icon"></i>
              <input id="originalInput" class="input" placeholder="Dán link gốc của bạn vào đây..." />
            </div>
            <div class="dual-input-row">
              <div class="input-row">
                <i class="fa fa-pencil-alt form-icon" style="color: var(--muted);"></i>
                <span id="domainPrefix" class="domain-prefix"></span>
                <input id="customAliasInput" class="input" placeholder="...mã tùy chỉnh" />
              </div>
              <div class="input-row">
                <i class="fa fa-tag form-icon" style="color: var(--muted);"></i>
                <input id="titleInput" class="input" placeholder="...thêm tiêu đề" />
              </div>
            </div>
          </div>
          <button id="createBtn" class="btn">
            <span class="btn-text">Tạo Link</span>&nbsp;<i class="fa fa-magic btn-icon"></i>
          </button>
        </div>
      </div>

      <button class="btn ghost" id="toggleListBtn"><i class="fa fa-list"></i>&nbsp; Hiện Danh Sách</button>

      <div id="link-list-container">
        <div class="info-search-bar">
          <div id="infoLine" style="color:var(--muted);font-size:15px"></div>
          <div class="search-wrap">
            <input id="searchInput" class="search-input" placeholder="Tìm kiếm mã, link hoặc tiêu đề..." />
          </div>
        </div>

        <table>
          <thead>
            <tr>
              <th style="width:11%">Rút gọn</th>
              <th style="width:4%">Click</th>
              <th style="width:11%">Tiêu đề</th>
              <th>Link gốc</th>
              <th style="width:140px; text-align:right;">Hành động</th>
            </tr>
          </thead>
          <tbody id="tableBody"></tbody>
        </table>

        <div class="pagination" id="pagination"></div>
      </div>

      <div id="importedFilesList"></div>
      <div id="deleteCandidates"></div>
    </div>
  </div>

  <div id="dataPopup" class="popup-overlay">
    <div class="popup-box data-popup">
      <div class="data-header">
        <strong>Dữ liệu (JSON)</strong>
        <div>
          <button id="copyDataBtn" class="copy-btn" title="Copy toàn bộ dữ liệu"><i class="fa fa-copy"></i></button>
          <button class="close-btn" id="closeDataPopup">&times;</button>
        </div>
      </div>
      <textarea id="dataTextarea" class="data-textarea"></textarea>
      <div style="margin-top:6px; text-align:left; color:var(--muted)">
        <small>Gợi ý: bạn có thể chỉnh JSON thủ công rồi Lưu thay đổi (sẽ ghi vào Firestore).</small>
      </div>
      <div style="margin-top:6px; text-align:right;">
        <button id="saveDataBtn" class="btn warn"><i class="fa fa-save"></i> Lưu thay đổi</button>
      </div>
    </div>
  </div>

  <div id="confirmPopup" class="popup-overlay">
    <div class="popup-box" style="max-width:320px;">
      <div style="margin-bottom:16px;font-size:20px;">Bạn có chắc muốn xóa mục này?</div>
      <div style="display:flex;gap:10px;justify-content:center;">
        <button id="confirmYes" class="btn danger">Xóa</button>
        <button id="confirmNo" class="btn ghost">Hủy</button>
      </div>
    </div>
  </div>

  <script type="module" src="src/script.js"></script>
</body>

</html>